# TMT QC quick check

Script to check the quality of the TMT reporter ion quantification per channel
The idea is to check whether each channel contains similar signal
If it is not the case, something in the experiment went wrong (maybe the labeling efficiency was poor or the amount of pepetide was low)
The required file is the psm.tsv generated by FragPipe
All you need to do is to change the name of the directory for read_tsv() function
this chunk of code is useful for plotting TMT 16-plex data, but can be easily modified for other TMT multiplexing methods

The libraries required:
```r
library(tidyverse)
library(janitor)
```

The file we need to load
```r
psm <- read_tsv("./psm.tsv") %>% # import the PSM table from FragPipe output
    clean_names()
```

# keep the information of the reporter ion abundances and retention time for plotting
```r
psm %>%
    dplyr::select(c(retention, 41:56)) %>%    # make sure the TMT channels are in the columns 41 to 56, if not use the correct indexes
    gather(key = "channel", value = "signal", -retention) %>%
    ggplot(aes(x = retention / 60, y = signal, color = channel)) +
    geom_line() +
    guides(color = guide_legend(override.aes = list(size = 10))) +
    labs(
        x = "Retention time (min)", y = "Relative reporter ion abundances",
        color = "Channel"
    ) +
    scale_y_continuous(labels = function(x) format(x, scientific = TRUE)) +
    facet_wrap(~channel, ncol = 4, scales = "free_y") +
    theme_bw() +
    theme(
        axis.text.x = element_text(size = 14),
        axis.text.y = element_text(size = 14),
        title = element_text(size = 20, face = "bold"),
        strip.text = element_text(size = 14, face = "bold"),
        legend.position = "bottom"
    )
```
